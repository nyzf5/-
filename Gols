-- PAINEL DE CONTROLE HITBOX - VERS√ÉO QUE FUNCIONA
if not game:IsLoaded() then
    game.Loaded:Wait()
    print("‚úÖ Jogo carregado")
end

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

print("‚úÖ Personagem carregado")

-- Vari√°veis
local ativo = false
local torsoOriginal
local tamanhoHitbox = 15
local arrastando = false
local offsetMouse = nil
local painelFrame

-- =========== FUN√á√ÉO HITBOX SIMPLES ===========
local function hitbox()
    local torso = character:FindFirstChild("Torso") or character:FindFirstChild("UpperTorso")
    if not torso then 
        print("‚ùå N√£o encontrou torso")
        return 
    end
    
    print("üì¶ Torso encontrado: " .. torso.Name)
    
    if ativo then
        if not torsoOriginal then
            torsoOriginal = torso.Size
            print("üìè Tamanho original salvo: " .. tostring(torsoOriginal))
        end
        
        print("üéØ Aumentando hitbox para: " .. tamanhoHitbox)
        
        -- Aumentar tamanho
        torso.Size = Vector3.new(tamanhoHitbox, tamanhoHitbox, tamanhoHitbox)
        torso.Transparency = 0.7
        torso.Color = Color3.fromRGB(255, 0, 0)
        
        -- Detec√ß√£o de toque
        torso.Touched:Connect(function(hit)
            if not ativo then return end
            
            local nome = hit.Name:lower()
            print("üü° Toque detectado: " .. nome)
            
            local isBola = nome:find("ball") or nome:find("bola") or nome:find("soccer") or nome:find("futebol")
            
            if not isBola and hit.Parent then
                local nomeParent = hit.Parent.Name:lower()
                isBola = nomeParent:find("ball") or nomeParent:find("bola") or nomeParent:find("soccer")
            end
            
            if isBola then
                print("‚öΩ BOLA DETECTADA! Chutando...")
                
                -- Calcular dire√ß√£o do chute
                local direcaoChute = (hit.Position - torso.Position).Unit
                
                -- Ajustar altura e for√ßa
                local chuteVertical = 0.5
                local chuteHorizontal = 0.8
                
                local direcaoFinal = Vector3.new(
                    direcaoChute.X * chuteHorizontal,
                    chuteVertical,
                    direcaoChute.Z * chuteHorizontal
                ).Unit * 100
                
                -- Aplicar for√ßa
                local bodyVelocity = Instance.new("BodyVelocity")
                bodyVelocity.Velocity = direcaoFinal
                bodyVelocity.MaxForce = Vector3.new(10000, 10000, 10000)
                
                local velAntiga = hit:FindFirstChild("BodyVelocity")
                if velAntiga then velAntiga:Destroy() end
                
                bodyVelocity.Parent = hit
                
                -- Efeito visual
                torso.Color = Color3.fromRGB(255, 255, 0)
                
                -- Som
                local som = Instance.new("Sound")
                som.SoundId = "rbxassetid://3570570104"
                som.Volume = 0.6
                som.Parent = hit
                som:Play()
                
                -- Efeito na bola
                hit.BrickColor = BrickColor.new("Bright yellow")
                
                -- Limpar
                game:GetService("Debris"):AddItem(bodyVelocity, 0.3)
                game:GetService("Debris"):AddItem(som, 2)
                
                -- Voltar cor original
                delay(0.1, function()
                    if torso and torso.Parent then
                        torso.Color = Color3.fromRGB(255, 0, 0)
                    end
                    if hit and hit.Parent then
                        hit.BrickColor = BrickColor.new("Bright red")
                    end
                end)
            end
        end)
        
        print("‚úÖ HITBOX ATIVADO - Tamanho: " .. tamanhoHitbox)
        
    else
        print("‚ùå Desativando hitbox...")
        
        if torso and torsoOriginal then
            torso.Size = torsoOriginal
            torso.Transparency = 0
            torso.Color = Color3.fromRGB(255, 255, 255)
            print("‚úÖ Hitbox restaurado ao tamanho original")
        end
        
        print("‚ùå Hitbox desativado")
    end
end

-- =========== CRIAR PAINEL VIS√çVEL ===========
local function criarPainel()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "PainelHitbox"
    screenGui.Parent = player:WaitForChild("PlayerGui")
    screenGui.ResetOnSpawn = false
    
    print("üé® Criando painel...")
    
    -- Painel principal
    painelFrame = Instance.new("Frame")
    painelFrame.Name = "Painel"
    painelFrame.Size = UDim2.new(0, 200, 0, 240)
    painelFrame.Position = UDim2.new(0, 20, 0.5, -120)
    painelFrame.AnchorPoint = Vector2.new(0, 0.5)
    painelFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    painelFrame.BackgroundTransparency = 0.1 -- MAIS VIS√çVEL
    painelFrame.BorderSizePixel = 0
    
    -- Arredondar bordas
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 10)
    corner.Parent = painelFrame
    
    -- Borda BRANCA para ser mais vis√≠vel
    local stroke = Instance.new("UIStroke")
    stroke.Color = Color3.fromRGB(255, 255, 255)
    stroke.Thickness = 3
    stroke.Parent = painelFrame
    
    -- T√≠tulo "HITBOX" (√ÅREA DE ARRASTE)
    local titulo = Instance.new("TextLabel")
    titulo.Name = "Titulo"
    titulo.Size = UDim2.new(1, 0, 0, 40)
    titulo.Position = UDim2.new(0, 0, 0, 10)
    titulo.Text = "HITBOX"
    titulo.TextColor3 = Color3.fromRGB(255, 255, 255)
    titulo.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    titulo.BackgroundTransparency = 0.5
    titulo.TextScaled = true
    titulo.Font = Enum.Font.GothamBold
    titulo.Active = true
    titulo.Selectable = true
    titulo.Parent = painelFrame
    
    -- Linha divis√≥ria
    local linha = Instance.new("Frame")
    linha.Size = UDim2.new(0.9, 0, 0, 2)
    linha.Position = UDim2.new(0.05, 0, 0, 55)
    linha.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    linha.BorderSizePixel = 0
    linha.Parent = painelFrame
    
    -- Cr√©dito "feito por Nyz"
    local credito = Instance.new("TextLabel")
    credito.Name = "Credito"
    credito.Size = UDim2.new(1, 0, 0, 15)
    credito.Position = UDim2.new(0, 0, 0, 60)
    credito.Text = "feito por Nyz"
    credito.TextColor3 = Color3.fromRGB(200, 200, 200)
    credito.BackgroundTransparency = 1
    credito.TextSize = 12
    credito.Font = Enum.Font.Gotham
    credito.Parent = painelFrame
    
    -- Texto "Tamanho:"
    local textoSize = Instance.new("TextLabel")
    textoSize.Name = "TextoSize"
    textoSize.Size = UDim2.new(1, 0, 0, 30)
    textoSize.Position = UDim2.new(0, 0, 0, 85)
    textoSize.Text = "Tamanho:"
    textoSize.TextColor3 = Color3.fromRGB(255, 255, 255)
    textoSize.BackgroundTransparency = 1
    textoSize.TextScaled = true
    textoSize.Font = Enum.Font.Gotham
    textoSize.Parent = painelFrame
    
    -- Caixa para n√∫mero do tamanho
    local caixaSize = Instance.new("TextBox")
    caixaSize.Name = "CaixaSize"
    caixaSize.Size = UDim2.new(0.8, 0, 0, 35)
    caixaSize.Position = UDim2.new(0.1, 0, 0, 120)
    caixaSize.Text = tostring(tamanhoHitbox)
    caixaSize.TextColor3 = Color3.fromRGB(255, 255, 255)
    caixaSize.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    caixaSize.BackgroundTransparency = 0
    caixaSize.TextScaled = true
    caixaSize.Font = Enum.Font.Gotham
    caixaSize.PlaceholderText = "15"
    caixaSize.Parent = painelFrame
    
    local cornerCaixa = Instance.new("UICorner")
    cornerCaixa.CornerRadius = UDim.new(0, 5)
    cornerCaixa.Parent = caixaSize
    
    -- Texto "Ativar:"
    local textoAtivar = Instance.new("TextLabel")
    textoAtivar.Name = "TextoAtivar"
    textoAtivar.Size = UDim2.new(1, 0, 0, 30)
    textoAtivar.Position = UDim2.new(0, 0, 0, 165)
    textoAtivar.Text = "Ativar:"
    textoAtivar.TextColor3 = Color3.fromRGB(255, 255, 255)
    textoAtivar.BackgroundTransparency = 1
    textoAtivar.TextScaled = true
    textoAtivar.Font = Enum.Font.Gotham
    textoAtivar.Parent = painelFrame
    
    -- Bot√£o Ativar/Desativar
    local botaoAtivar = Instance.new("TextButton")
    botaoAtivar.Name = "BotaoAtivar"
    botaoAtivar.Size = UDim2.new(0.8, 0, 0, 40)
    botaoAtivar.Position = UDim2.new(0.1, 0, 0, 195)
    botaoAtivar.Text = "DESATIVADO"
    botaoAtivar.TextColor3 = Color3.fromRGB(255, 255, 255)
    botaoAtivar.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
    botaoAtivar.BackgroundTransparency = 0
    botaoAtivar.TextScaled = true
    botaoAtivar.Font = Enum.Font.GothamBold
    botaoAtivar.Parent = painelFrame
    
    local cornerBotao = Instance.new("UICorner")
    cornerBotao.CornerRadius = UDim.new(0, 8)
    cornerBotao.Parent = botaoAtivar
    
    -- =========== SISTEMA DE ARRASTE ===========
    titulo.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            arrastando = true
            offsetMouse = painelFrame.AbsolutePosition - input.Position
            painelFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
            print("üñ±Ô∏è Iniciando arraste...")
        end
    end)
    
    titulo.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            arrastando = false
            offsetMouse = nil
            painelFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            print("‚úÖ Arraste finalizado")
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if arrastando and offsetMouse then
            if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
                local mousePos = input.Position
                local novaPos = UDim2.new(
                    0, mousePos.X + offsetMouse.X,
                    0, mousePos.Y + offsetMouse.Y
                )
                
                painelFrame.Position = novaPos
            end
        end
    end)
    
    -- =========== EVENTOS DOS CONTROLES ===========
    caixaSize.FocusLost:Connect(function()
        local novoNumero = tonumber(caixaSize.Text)
        if novoNumero and novoNumero >= 1 then
            tamanhoHitbox = math.clamp(novoNumero, 1, 100)
            caixaSize.Text = tostring(tamanhoHitbox)
            
            if ativo then
                hitbox()
            end
        else
            caixaSize.Text = tostring(tamanhoHitbox)
        end
    end)
    
    botaoAtivar.MouseButton1Click:Connect(function()
        ativo = not ativo
        
        if ativo then
            botaoAtivar.Text = "ATIVADO"
            botaoAtivar.BackgroundColor3 = Color3.fromRGB(50, 200, 50)
        else
            botaoAtivar.Text = "DESATIVADO"
            botaoAtivar.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
        end
        
        hitbox()
    end)
    
    painelFrame.Parent = screenGui
    print("‚úÖ Painel criado com sucesso!")
    return screenGui
end

-- =========== INICIALIZAR ===========
wait(1) -- Esperar um pouco
local painelGui = criarPainel()

-- Aviso simples
local avisoGui = Instance.new("ScreenGui", player.PlayerGui)
local aviso = Instance.new("TextLabel", avisoGui)
aviso.Size = UDim2.new(0.8, 0, 0.08, 0)
aviso.Position = UDim2.new(0.1, 0, 0.05, 0)
aviso.Text = "HITBOX ATIVO - feito por Nyz"
aviso.TextColor3 = Color3.fromRGB(255, 255, 255)
aviso.BackgroundColor3 = Color3.fromRGB(0, 100, 0)
aviso.BackgroundTransparency = 0.3
aviso.TextScaled = true
aviso.Visible = true

delay(3, function()
    aviso.Visible = false
end)

player.CharacterAdded:Connect(function(novoChar)
    print("‚ôªÔ∏è Personagem respawnou")
    character = novoChar
    torsoOriginal = nil
    
    if ativo then
        ativo = false
        
        local botao = painelGui:FindFirstChild("Painel") and painelGui.Painel:FindFirstChild("BotaoAtivar")
        if botao then
            botao.Text = "DESATIVADO"
            botao.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
        end
    end
end)

print("==========================================")
print("üéÆ HITBOX - VERS√ÉO FUNCIONAL")
print("==========================================")
print("‚Ä¢ Painel PRETO com borda BRANCA")
print("‚Ä¢ Texto 'HITBOX' no topo (arraste aqui)")
print("‚Ä¢ Bot√£o verde/vermelho")
print("‚Ä¢ Aviso inicial por 3 segundos")
print("‚Ä¢ feito por Nyz")
print("==========================================")
print("‚úÖ Script executado com sucesso!")
print("üëà Procure o painel preto na tela")
